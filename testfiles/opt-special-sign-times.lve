%
%  Test file
%
\documentclass{minimal}
\input{regression-test}
\RequirePackage[T1]{fontenc}
\RequirePackage[enable-debug]{expl3}
\RequirePackage{cooking-units}

\ExplSyntaxOn
\debug_on:n { check-declarations , deprecation , log-functions }

\cs_new:Npn \MYTYPE #1#2
  {
    \TYPE{#1}
    \tl_set:Nn \msg_line_number: { 1 }
    \hbox_set:Nn \l_tmpa_box {#2}
    \box_show:N \l_tmpa_box
  }



\cs_new:Npn \testcunum #1#2
  {
    #1 \, #2
  }
\cs_new:Npn \timessign { \__cookingunits_print_times_sign: }

\cs_new:Npn \printUnknownAmountMsg #1
  {
    \msg_warning:nnn { cooking-units } {amount-not-known} {#1}
  }

\ExplSyntaxOff

\begin{document}

\START

\TEST{set-special-sign}{
  \MYTYPE {set1} { \testcunum{1\timessign2}{kg} }
  \MYTYPE {set2} { \printUnknownAmountMsg{1x2}\testcunum{1x2}{kg} }
  \MYTYPE {set5} { \printUnknownAmountMsg{1X2}\testcunum{1X2}{kg} }
  \MYTYPE {set6} { \printUnknownAmountMsg{1x2}\testcunum{1x2}{kg} }
  \MYTYPE {set7} { \printUnknownAmountMsg{1X2}\testcunum{1X2}{kg} }
  \MYTYPE {set8} { \testcunum{1\timessign2}{kg} }
}

\TEST{add-special-sign}{
  \MYTYPE {add1} { \testcunum{1\timessign2}{kg} }
  \MYTYPE {add2} { \printUnknownAmountMsg{1x2}\testcunum{1x2}{kg} }
  \MYTYPE {add5} { \printUnknownAmountMsg{1X2}\testcunum{1X2}{kg} }
  \MYTYPE {add6} { \printUnknownAmountMsg{1x2}\testcunum{1x2}{kg} }
  \MYTYPE {add7} { \printUnknownAmountMsg{1X2}\testcunum{1X2}{kg} }
  \MYTYPE {add8} { \testcunum{1\timessign2}{kg} }
}

\END
























