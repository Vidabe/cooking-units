% !TEX encoding = UTF-8 Unicode
\documentclass[english,american,ngerman,naustrian,french]{minimal}
\input{regression-test}
\usepackage[english,main=american,ngerman,naustrian,french]{babel}

\usepackage{cooking-units}

\ExplSyntaxOn
\OMIT
\cs_new:Npn \print_test:n #1 
  {
    \OMIT
    \hbox_set:Nn \l_tmpa_box {#1}
    \TIMO
    \box_show:N \l_tmpa_box
  }

\cs_new:Npn \do_cunum_test:n #1
  {
    \print_test:n { \cunum{1}{#1} }
  }

\cs_new:Npn \do_cutext_one_test:n #1
  {
    \print_test:n { \cutext{1}{#1} }
  }
\cs_new:Npn \do_cutext_plural_test:n #1
  {
    \print_test:n { \cutext{2}{#1} }
  }
\cs_new:Npn \do_Cutext_one_test:n #1
  {
    \print_test:n { \Cutext{1}{#1} }
  }
\cs_new:Npn \do_Cutext_plural_test:n #1
  {
    \print_test:n { \Cutext{2}{#1} }
  }

\cs_new:Npn \__Test_name_units_command:nnN #1#2#3
  {
    \TEST {#1}
      {
        \clist_map_inline:nn {#2} { #3 {##1} }
      }
  }

\NewDocumentCommand \PrintCunumInLanguage { m m }
  {
    \selectlanguage {#1}

    \__Test_name_units_command:nnN { #1: ~ Print~symbol~for~ weights }
      { kg , dag, g, oz, lb } #2

    \__Test_name_units_command:nnN {  #1: ~ Print~symbol~for~ temperatures }
      { C , F, Re, K } #2

    \__Test_name_units_command:nnN { #1: ~ Print~symbol~for~ time }
      { d, h, min, s } #2

    \__Test_name_units_command:nnN { #1: ~ Print~symbol~for~ length }
      { m, dm, cm, mm, in } #2

    \__Test_name_units_command:nnN { #1: ~ Print~symbol~for~ liter }
      { l, dl, cl, ml } #2

    \__Test_name_units_command:nnN { #1: ~ Print~symbol~for~ energy }
      { cal, kcal, J, kJ, eV } #2

    \__Test_name_units_command:nnN { #1: ~ Print~symbol~for~ other }
      { pn, EL, TL, Msp, csp, ssp, dsp } #2
  }




\TIMO
\begin{document}
\START
\AUTHOR{Ben}

\OMIT
\clist_map_inline:nn
  {
    english, american, ngerman, naustrian, french
  }{
    \PrintCunumInLanguage {#1} \do_cunum_test:n
    \PrintCunumInLanguage {#1} \do_cutext_one_test:n
    \PrintCunumInLanguage {#1} \do_cutext_plural_test:n
    \PrintCunumInLanguage {#1} \do_Cutext_one_test:n
    \PrintCunumInLanguage {#1} \do_Cutext_plural_test:n
    \SEPARATOR
  }
\TIMO


\END
